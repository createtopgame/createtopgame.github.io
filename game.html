<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
    
</head>

<body>
    <div class="map" style="
            background-color: gray;
            width: 1500px;
            height: 700px;
            position: relative;
        ">
        <div class="igrok" style="
                background-color: brown;
                width: 45px;
                height: 45px;
                border-radius: 100%;
                position: absolute;
                top: 300px;
                left: 100px;
                /* transition: .5s; */
            ">

            <div class="gun" style="
                    width: 20px;
                    position: relative;
                    left: -10px;
                    top: -20px;
                    height: 45px;
                    /* background-color: black; */
                    background-image: url(/img/3310.png);
                    background-size: cover;
                    
                "></div>

        </div>
            <form name="Form1">
            POSX: <input type="text" name="posx"><br>
            POSY: <input type="text" name="posy"><br>
            </form>
    </div>
    <script type="text/javascript">
        $("body").mousemove(function(e) {
            document.Form1.posx.value = e.pageX;
            document.Form1.posy.value = e.pageY;
        })
    </script>

    <script>
        var igrok = document.getElementsByClassName('igrok')[0],
            topPos = 300;
        leftPos = 100;


        //функция перемещения вверх
        function w() {
            if (topPos <= 0) {
                console.log('меньше нуля');
            } else {
                topPos = topPos - 5;
                igrok.style.top = topPos + 'px';
            }
        }

        //функция перемещения вниз
        function s() {
            if (topPos >= 655) {
                console.log('меньше нуля');
            } else {
                topPos = topPos + 5;
                igrok.style.top = topPos + 'px';
            }
        }

        //функция перемещения вправо
        function d() {
            // if (topPos >= 655) {
            //     console.log('меньше нуля');
            // } else {
            //     topPos = topPos + 5;
            //     igrok.style.top = topPos + 'px';
            // }

            leftPos = leftPos + 5;
            igrok.style.left = leftPos + 'px';

        }
        //функция перемещения влево
        function a() {
            if (leftPos <= 0) {
                console.log('меньше нуля');
            } else {
                leftPos = leftPos - 5;
                igrok.style.left = leftPos + 'px';
            }
        }

        //здесь отслеживаем нажатие клавиш
        document.addEventListener('keydown', function (event) {
            //если код нажатой клавиши равен W - то выполняем функцию w();
            if (event.code == 'KeyW') {
                w();
            }
            //если код нажатой клавиши равен S - то выполняем функцию s();
            if (event.code == 'KeyS') {
                s();
            }
            //если код нажатой клавиши равен D - то выполняем функцию d();
            if (event.code == 'KeyD') {
                d();
            }
            //если код нажатой клавиши равен A - то выполняем функцию a();
            if (event.code == 'KeyA') {
                a();
            }
        });

    </script>

    


</body>

</html>